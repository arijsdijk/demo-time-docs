---
import { Icon } from "@astrojs/starlight/components";

const response = await fetch('https://api.frontmatter.codes/stars?repo=estruyf/vscode-demo-time');
const data = await response.json();
const stars = data.stars;
---

<div class={`stargazers group flex items-center`} style={{ height: "36px" }}>
  <a
    href={`https://github.com/estruyf/vscode-demo-time`}
    class={`h-full flex items-center bg-[var(--sl-color-white)] text-[var(--sl-color-black)] p-2 text-xs font-bold group-hover:bg-whisper-700 rounded no-underline`}
    title={`Give the project a star on GitHub`}>
    <Icon name={'github'} class={`mr-1 !text-[var(--sl-color-black)]`} />
    <span>Star</span>
</a>

  {
    stars && (
      <>
        <div class="w-3 overflow-hidden inline-block">
          <div class="h-4 bg-[var(--sl-color-white)] group-hover:bg-whisper-700 -rotate-45 transform origin-top-right"></div>
        </div>

        <a
          href={`https://github.com/estruyf/vscode-demo-time/stargazers`}
          class={`h-full flex items-center bg-[var(--sl-color-white)] text-[var(--sl-color-black)] p-2 text-xs font-bold group-hover:bg-whisper-700 rounded no-underline`}
          title={`Give the project a star on GitHub`}>
          {stars}
        </a>
      </>
    )
  }
</div>